# Step3: Vectorize
## toi_vec.py
"toi_vec.py" is a program for vectorize training data and testing data.

```sh
~/work $ ll
...
-rw-r--r--   1 takashi  staff  1913  3  2 11:33 toi_vec.py
...
~/work $
```

## Vectorize training data
First, vectorize training data.

```sh
~/work $ python3 toi_vec.py train_feature.csv train_target.csv
[2019/04/07 20:47:49] ========== toi_vec.py start ==========
[2019/04/07 20:47:49] ----- vectorize features -----
[2019/04/07 20:47:49] === 0001: ingredients ===
[2019/04/07 20:47:49] ['Chicken', 'Egg', 'Onion', 'Sesame oil', 'Noodle soup', 'Noodle soup', 'Soy sauce', 'Sweet Sake', 'Sake', 'Leek', 'Nori']
[2019/04/07 20:47:49] --dense matrix (1-recipe) --
[2019/04/07 20:47:49] [1.0, 1.0, 1.0, 2.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
[2019/04/07 20:47:49] === 0002: ingredients ===
[2019/04/07 20:47:49] ['Hanpen', 'Chopped leeks', 'Japanese stock', 'Soy sauce', 'Sweet Sake', 'Dried bonito', 'Fried tofu']

...

[2019/04/07 20:47:49] === 0100: ingredients ===
[2019/04/07 20:47:49] ['Onion', 'Garlic', 'Star anise', 'Clove', 'Cinnammon', 'Lemongrass', 'Consomme', 'Beef bones', 'Fish sauce', 'Soy sauce', 'Rice paper', 'Beef', 'Coriander', 'Thai basil', 'Bean sprouts', 'Chopped leeks', 'Chili sauce', 'Jalapeno pepper', 'Lemon', 'Haixian jiang']
[2019/04/07 20:47:49] --dense matrix (1-recipe) --
[2019/04/07 20:47:49] [0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 1.0, 1.0, 0.0, 0.0]
[2019/04/07 20:47:49] ----- vectorize target -----
[2019/04/07 20:47:49] --ids--
[2019/04/07 20:47:49] [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3]
~/work $
```

## Check
After running this program, check the following files.

```sh
~/work/data $ ll
total 320
...
-rw-r--r--   1 takashi  staff  321456  4  7 20:47 train_feature_dense.pkl
...
-rw-r--r--   1 takashi  staff     208  4  7 20:47 train_target_vec.pkl
...
~/work/data $
```

## Vectorize testing data
Next, vectorize testing data.

```sh
~/work $ python3 toi_vec.py test_feature.csv test_target.csv
[2019/04/07 20:51:27] ========== toi_vec.py start ==========
[2019/04/07 20:51:27] ----- vectorize features -----
[2019/04/07 20:51:27] === 0001: ingredients ===
[2019/04/07 20:51:27] ['Eringi mashroom', 'Shimeji mashroom', 'Onion', 'Fried tofu', 'Noodle soup', 'Japanese stock', 'Olive oil']
[2019/04/07 20:51:27] --dense matrix (1-recipe) --
[2019/04/07 20:51:27] [0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
[2019/04/07 20:51:27] === 0002: ingredients ===
[2019/04/07 20:51:27] ['Onion', 'Carrots', 'Maitake mashroom', 'Komatsuna', 'Sardine Kabayaki', 'Olive oil', 'Soy sauce', 'Japanese stock']

...

[2019/04/07 20:51:27] === 0040: ingredients ===
[2019/04/07 20:51:27] ['Rice paper', 'Beef', 'Chinese Chive', 'Japanese ginger', 'Coriander', 'Chicken stock', 'Soy sauce', 'Fish sauce', 'Lemon']
[2019/04/07 20:51:27] --dense matrix (1-recipe) --
[2019/04/07 20:51:27] [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 1.0, 1.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0]
[2019/04/07 20:51:28] ----- vectorize target -----
[2019/04/07 20:51:28] --ids--
[2019/04/07 20:51:28] [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3]
~/work $
```

## Check
After running this program, check the following files.

```sh
~/work/data $ ll
...
-rw-r--r--   1 takashi  staff  128196  4  7 20:51 test_feature_dense.pkl
...
-rw-r--r--   1 takashi  staff      88  4  7 20:51 test_target_vec.pkl
...
~/work/data $
```
